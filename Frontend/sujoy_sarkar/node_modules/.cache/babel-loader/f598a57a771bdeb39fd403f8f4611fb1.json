{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.focus = exports.isInputElement = exports.isActiveElement = exports.isTabbable = exports.isFocusable = exports.isContentEditable = exports.isHidden = exports.isHTMLElement = exports.hasFocusWithin = exports.isDisabled = exports.hasNegativeTabIndex = exports.hasTabIndex = exports.hasDisplayNone = void 0;\n\nvar dom_1 = require(\"./dom\");\n\nvar hasDisplayNone = function (element) {\n  return (dom_1._window === null || dom_1._window === void 0 ? void 0 : dom_1._window.getComputedStyle(element).display) === 'none';\n};\n\nexports.hasDisplayNone = hasDisplayNone;\n\nvar hasTabIndex = function (element) {\n  return element.hasAttribute('tabindex');\n};\n\nexports.hasTabIndex = hasTabIndex;\n\nvar hasNegativeTabIndex = function (element) {\n  return exports.hasTabIndex(element) && element.tabIndex === -1;\n};\n\nexports.hasNegativeTabIndex = hasNegativeTabIndex;\n\nvar isDisabled = function (element) {\n  return Boolean(element.getAttribute('disabled')) === true || Boolean(element.getAttribute('aria-disabled')) === true;\n};\n\nexports.isDisabled = isDisabled;\n\nvar hasFocusWithin = function (element) {\n  if (!document.activeElement) return false;\n  return element.contains(document.activeElement);\n};\n\nexports.hasFocusWithin = hasFocusWithin;\n\nvar isHTMLElement = function (element) {\n  return element instanceof HTMLElement;\n};\n\nexports.isHTMLElement = isHTMLElement;\n\nvar isHidden = function (element) {\n  if (element.parentElement && exports.isHidden(element.parentElement)) return true;\n  return element.hidden;\n};\n\nexports.isHidden = isHidden;\n\nvar isContentEditable = function (element) {\n  var value = element.getAttribute('contenteditable');\n  return value && value !== undefined;\n};\n\nexports.isContentEditable = isContentEditable;\n\nvar isFocusable = function (element) {\n  if (!exports.isHTMLElement(element) || exports.isHidden(element) || exports.isDisabled(element)) {\n    return false;\n  }\n\n  var localName = element.localName;\n  var focusableTags = ['input', 'select', 'textarea', 'button'];\n  if (focusableTags.includes(localName)) return true;\n  var others = {\n    a: function () {\n      return element.hasAttribute('href');\n    },\n    audio: function () {\n      return element.hasAttribute('controls');\n    },\n    video: function () {\n      return element.hasAttribute('controls');\n    }\n  };\n\n  if (localName in others) {\n    return others[localName]();\n  }\n\n  if (exports.isContentEditable(element)) return true;\n  return exports.hasTabIndex(element);\n};\n\nexports.isFocusable = isFocusable;\n\nvar isTabbable = function (element) {\n  return exports.isHTMLElement(element) && exports.isFocusable(element) && !exports.hasNegativeTabIndex(element);\n};\n\nexports.isTabbable = isTabbable;\n\nvar isActiveElement = function (element) {\n  return document.activeElement === element;\n};\n\nexports.isActiveElement = isActiveElement;\n\nvar isInputElement = function (element) {\n  return exports.isHTMLElement(element) && element.tagName.toLowerCase() === 'input' && 'select' in element;\n};\n\nexports.isInputElement = isInputElement;\n\nvar focus = function (element, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _a = options.isActive,\n      isActive = _a === void 0 ? exports.isActiveElement : _a,\n      preventScroll = options.preventScroll;\n  if (isActive(element)) return -1;\n  return requestAnimationFrame(function () {\n    element.focus({\n      preventScroll: preventScroll\n    });\n\n    if (exports.isInputElement(element)) {\n      element.select();\n    }\n  });\n};\n\nexports.focus = focus;","map":{"version":3,"sources":["../src/tabbable.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.focus = exports.isInputElement = exports.isActiveElement = exports.isTabbable = exports.isFocusable = exports.isContentEditable = exports.isHidden = exports.isHTMLElement = exports.hasFocusWithin = exports.isDisabled = exports.hasNegativeTabIndex = exports.hasTabIndex = exports.hasDisplayNone = void 0;\nvar dom_1 = require(\"./dom\");\nvar hasDisplayNone = function (element) {\n    return (dom_1._window === null || dom_1._window === void 0 ? void 0 : dom_1._window.getComputedStyle(element).display) === 'none';\n};\nexports.hasDisplayNone = hasDisplayNone;\nvar hasTabIndex = function (element) {\n    return element.hasAttribute('tabindex');\n};\nexports.hasTabIndex = hasTabIndex;\nvar hasNegativeTabIndex = function (element) {\n    return exports.hasTabIndex(element) && element.tabIndex === -1;\n};\nexports.hasNegativeTabIndex = hasNegativeTabIndex;\nvar isDisabled = function (element) {\n    return (Boolean(element.getAttribute('disabled')) === true ||\n        Boolean(element.getAttribute('aria-disabled')) === true);\n};\nexports.isDisabled = isDisabled;\nvar hasFocusWithin = function (element) {\n    if (!document.activeElement)\n        return false;\n    return element.contains(document.activeElement);\n};\nexports.hasFocusWithin = hasFocusWithin;\nvar isHTMLElement = function (element) {\n    return element instanceof HTMLElement;\n};\nexports.isHTMLElement = isHTMLElement;\nvar isHidden = function (element) {\n    if (element.parentElement && exports.isHidden(element.parentElement))\n        return true;\n    return element.hidden;\n};\nexports.isHidden = isHidden;\nvar isContentEditable = function (element) {\n    var value = element.getAttribute('contenteditable');\n    return value && value !== undefined;\n};\nexports.isContentEditable = isContentEditable;\nvar isFocusable = function (element) {\n    if (!exports.isHTMLElement(element) || exports.isHidden(element) || exports.isDisabled(element)) {\n        return false;\n    }\n    var localName = element.localName;\n    var focusableTags = ['input', 'select', 'textarea', 'button'];\n    if (focusableTags.includes(localName))\n        return true;\n    var others = {\n        a: function () { return element.hasAttribute('href'); },\n        audio: function () { return element.hasAttribute('controls'); },\n        video: function () { return element.hasAttribute('controls'); },\n    };\n    if (localName in others) {\n        return others[localName]();\n    }\n    if (exports.isContentEditable(element))\n        return true;\n    return exports.hasTabIndex(element);\n};\nexports.isFocusable = isFocusable;\nvar isTabbable = function (element) {\n    return (exports.isHTMLElement(element) &&\n        exports.isFocusable(element) &&\n        !exports.hasNegativeTabIndex(element));\n};\nexports.isTabbable = isTabbable;\nvar isActiveElement = function (element) {\n    return document.activeElement === element;\n};\nexports.isActiveElement = isActiveElement;\nvar isInputElement = function (element) {\n    return (exports.isHTMLElement(element) &&\n        element.tagName.toLowerCase() === 'input' &&\n        'select' in element);\n};\nexports.isInputElement = isInputElement;\nvar focus = function (element, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.isActive, isActive = _a === void 0 ? exports.isActiveElement : _a, preventScroll = options.preventScroll;\n    if (isActive(element))\n        return -1;\n    return requestAnimationFrame(function () {\n        element.focus({ preventScroll: preventScroll });\n        if (exports.isInputElement(element)) {\n            element.select();\n        }\n    });\n};\nexports.focus = focus;\n//# sourceMappingURL=tabbable.js.map"]},"metadata":{},"sourceType":"script"}