{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createOnKeyDown = void 0;\n\nvar functions_1 = require(\"./functions\");\n\nvar dom_1 = require(\"./dom\");\n\nvar createOnKeyDown = function (opts) {\n  var keyMap = opts.keyMap,\n      onKey = opts.onKey,\n      stopPropagation = opts.stopPropagation,\n      onKeyDown = opts.onKeyDown,\n      _a = opts.shouldKeyDown,\n      shouldKeyDown = _a === void 0 ? function () {\n    return true;\n  } : _a,\n      _b = opts.preventDefault,\n      preventDefault = _b === void 0 ? true : _b;\n  return function (event) {\n    if (!keyMap) return;\n    var finalKeyMap = functions_1.runIfFn(keyMap, event);\n    var shouldPreventDefault = functions_1.runIfFn(preventDefault, event);\n    var shouldStopPropagation = functions_1.runIfFn(stopPropagation, event);\n    var eventKey = dom_1.normalizeEventKey(event);\n\n    if (eventKey in finalKeyMap) {\n      var action = finalKeyMap[eventKey];\n\n      if (typeof action === 'function' && shouldKeyDown(event)) {\n        if (shouldPreventDefault) event.preventDefault();\n        if (shouldStopPropagation) event.stopPropagation();\n        onKey === null || onKey === void 0 ? void 0 : onKey(event);\n        action(event);\n        return;\n      }\n    }\n\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(event);\n  };\n};\n\nexports.createOnKeyDown = createOnKeyDown;","map":{"version":3,"sources":["../src/keydown.ts"],"names":[],"mappings":";;;;;;;AAEA,IAAA,WAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAkCO,IAAM,eAAe,GAAG,UAAC,IAAD,EAA6B;AAExD,MAAA,MAAM,GAMJ,IAAI,CANA,MAAN;AAAA,MACA,KAAK,GAKH,IAAI,CALD,KADL;AAAA,MAEA,eAAe,GAIb,IAAI,CAJS,eAFf;AAAA,MAGA,SAAS,GAGP,IAAI,CAHG,SAHT;AAAA,MAIA,EAAA,GAEE,IAAI,CAFoB,aAJ1B;AAAA,MAIA,aAAa,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,YAAA;AAAM,WAAA,IAAA;AAAI,GAAb,GAAa,EAJ1B;AAAA,MAKA,EAAA,GACE,IAAI,CADe,cALrB;AAAA,MAKA,cAAc,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAH,GAAO,EALrB;AAQF,SAAO,UAAC,KAAD,EAA2B;AAChC,QAAI,CAAC,MAAL,EAAa;AAEb,QAAM,WAAW,GAAG,WAAA,CAAA,OAAA,CAAQ,MAAR,EAAgB,KAAhB,CAApB;AACA,QAAM,oBAAoB,GAAG,WAAA,CAAA,OAAA,CAAQ,cAAR,EAAwB,KAAxB,CAA7B;AACA,QAAM,qBAAqB,GAAG,WAAA,CAAA,OAAA,CAAQ,eAAR,EAAyB,KAAzB,CAA9B;AAEA,QAAM,QAAQ,GAAG,KAAA,CAAA,iBAAA,CAAkB,KAAlB,CAAjB;;AAEA,QAAI,QAAQ,IAAI,WAAhB,EAA6B;AAC3B,UAAM,MAAM,GAAG,WAAW,CAAC,QAAD,CAA1B;;AAEA,UAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,aAAa,CAAC,KAAD,CAAjD,EAA0D;AACxD,YAAI,oBAAJ,EAA0B,KAAK,CAAC,cAAN;AAE1B,YAAI,qBAAJ,EAA2B,KAAK,CAAC,eAAN;AAC3B,QAAA,KAAK,KAAA,IAAL,IAAA,KAAK,KAAA,KAAA,CAAL,GAAK,KAAA,CAAL,GAAA,KAAK,CAAG,KAAH,CAAL;AACA,QAAA,MAAM,CAAC,KAAD,CAAN;AAEA;AACD;AACF;;AAED,IAAA,SAAS,KAAA,IAAT,IAAA,SAAS,KAAA,KAAA,CAAT,GAAS,KAAA,CAAT,GAAA,SAAS,CAAG,KAAH,CAAT;AACD,GAxBD;AAyBD,CAnCM;;AAAM,OAAA,CAAA,eAAA,GAAe,eAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createOnKeyDown = void 0;\nvar functions_1 = require(\"./functions\");\nvar dom_1 = require(\"./dom\");\nvar createOnKeyDown = function (opts) {\n    var keyMap = opts.keyMap, onKey = opts.onKey, stopPropagation = opts.stopPropagation, onKeyDown = opts.onKeyDown, _a = opts.shouldKeyDown, shouldKeyDown = _a === void 0 ? function () { return true; } : _a, _b = opts.preventDefault, preventDefault = _b === void 0 ? true : _b;\n    return function (event) {\n        if (!keyMap)\n            return;\n        var finalKeyMap = functions_1.runIfFn(keyMap, event);\n        var shouldPreventDefault = functions_1.runIfFn(preventDefault, event);\n        var shouldStopPropagation = functions_1.runIfFn(stopPropagation, event);\n        var eventKey = dom_1.normalizeEventKey(event);\n        if (eventKey in finalKeyMap) {\n            var action = finalKeyMap[eventKey];\n            if (typeof action === 'function' && shouldKeyDown(event)) {\n                if (shouldPreventDefault)\n                    event.preventDefault();\n                if (shouldStopPropagation)\n                    event.stopPropagation();\n                onKey === null || onKey === void 0 ? void 0 : onKey(event);\n                action(event);\n                return;\n            }\n        }\n        onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(event);\n    };\n};\nexports.createOnKeyDown = createOnKeyDown;\n//# sourceMappingURL=keydown.js.map"]},"metadata":{},"sourceType":"script"}